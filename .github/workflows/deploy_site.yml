# .github/workflows/deploy_site.yml

name: üåê Implanta√ß√£o do GitHub Pages

# 1. Gatilhos: Quando este fluxo de trabalho ser√° executado
on:
  push:
    branches:
      - main # Roda sempre que houver um push para o branch principal
  
  # Permite rodar o fluxo de trabalho manualmente
  workflow_dispatch:

# 2. Permiss√µes
# O GitHub precisa dessas permiss√µes espec√≠ficas para o Pages funcionar corretamente.
permissions:
  contents: read
  pages: write 
  id-token: write 

# 3. Defini√ß√£o do Job
jobs:
  # Job de Implanta√ß√£o no GitHub Pages
  deploy:
    name: Implanta√ß√£o Est√°tica
    environment:
      # O ambiente deve ser 'github-pages' para o GitHub reconhecer o deploy
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }} 
    runs-on: ubuntu-latest

    steps:
      # Passo 1: Fazer o checkout do c√≥digo do reposit√≥rio
      - name: Checkout
        uses: actions/checkout@v4

      # Passo 2 (Opcional): Configurar o Node.js. Mantido apenas se voc√™ for usar um build.
      - name: Configurar Node.js (Opcional)
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      # Passo 3: Configurar o GitHub Pages
      - name: Configurar GitHub Pages
        # Este action configura os caminhos e vari√°veis necess√°rios
        uses: actions/configure-pages@v4
        
      # Passo 4 (Opcional): Etapa de Build
      - name: Build do Projeto (Opcional - Remova se for 100% est√°tico)
        run: |
          # Se o seu site for puramente HTML/CSS/JS, esta etapa n√£o faz nada al√©m de confirmar
          echo "Nenhuma etapa de build complexa, usando arquivos est√°ticos da raiz."

      # Passo 5: Enviar os arquivos para o GitHub Pages como um artefato
      # O action 'upload-pages-artifact' pega o conte√∫do da pasta 'path' 
      # e o prepara para ser servido.
      - name: Upload Artifact
        uses: actions/upload-pages-artifact@v3
        with:
          # A pasta que ser√° publicada. Assumimos a raiz do reposit√≥rio
          path: './' 

      # Passo 6: Publicar o Site
      - name: Implantar no GitHub Pages
        id: deployment
        # Este action finaliza o processo e coloca o site online
        uses: actions/deploy-pages@v4
