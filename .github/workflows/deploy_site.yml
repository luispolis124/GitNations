# .github/workflows/deploy_site.yml

name: üåê Implanta√ß√£o do GitHub Pages

# 1. Gatilhos: Quando este fluxo de trabalho ser√° executado
on:
  push:
    branches:
      - main # Roda sempre que houver um push para o branch principal
  
  # Permite rodar o fluxo de trabalho manualmente
  workflow_dispatch:

# 2. Permiss√µes
# √â crucial dar permiss√£o de leitura para o GitHub Pages Actions
permissions:
  contents: read
  pages: write # Permiss√£o necess√°ria para implantar no GitHub Pages
  id-token: write # Necess√°rio para autentica√ß√£o com o OIDC

# 3. Defini√ß√£o do Job
jobs:
  # Job de Implanta√ß√£o no GitHub Pages
  deploy:
    name: Implanta√ß√£o Est√°tica
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }} # URL do site publicado
    runs-on: ubuntu-latest

    steps:
      # Passo 1: Fazer o checkout do c√≥digo do reposit√≥rio
      - name: Checkout
        uses: actions/checkout@v4

      # Passo 2: Configurar o Node.js (necess√°rio apenas se voc√™ for usar Webpack ou Grunt - Opcional)
      # Se voc√™ n√£o tem etapa de build (o HTML/CSS/JS j√° est√° pronto), pode pular a instala√ß√£o
      - name: Configurar Node.js (Opcional)
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      # Passo 3: Configurar o GitHub Pages
      - name: Configurar GitHub Pages
        uses: actions/configure-pages@v4
        
      # Passo 4: Fazer o build dos assets (Se voc√™ usar Grunt ou Webpack)
      # Se o seu site for puramente HTML/CSS/JS sem compila√ß√£o, voc√™ pode remover este passo
      - name: Build do Projeto (Opcional - Remova se for 100% est√°tico)
        run: |
          npm install
          # Se voc√™ usar Webpack, Grunt ou outro build, o comando estaria aqui
          # Ex: npm run build 
          echo "Nenhuma etapa de build necess√°ria, usando arquivos est√°ticos."

      # Passo 5: Enviar os arquivos para o GitHub Pages
      # O action 'upload-pages-artifact' espera que os arquivos estejam prontos para serem servidos
      - name: Upload Artifact
        uses: actions/upload-pages-artifact@v3
        with:
          # A pasta que cont√©m o index.html, ranking.html, js/, css/, etc.
          # Assumimos que a raiz do seu reposit√≥rio √© onde o site est√°
          path: './' 

      # Passo 6: Publicar o Site
      - name: Implantar no GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
