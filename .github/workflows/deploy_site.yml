# .github/workflows/deploy_site.yml

name: üåê Implanta√ß√£o do Site (GitHub Pages)

# 1. Gatilhos: Define o que inicia o workflow
on:
  push:
    branches:
      - main # Roda automaticamente em commits para o branch principal
  
  # Permite que o workflow seja disparado manualmente pela aba 'Actions'
  workflow_dispatch:

# 2. Permiss√µes: Essenciais para interagir com o Pages
permissions:
  contents: read # Permite o checkout do c√≥digo
  pages: write # Permiss√£o para publicar o site
  id-token: write # Permiss√£o para autentica√ß√£o segura (OIDC)

# 3. Defini√ß√£o do Job
jobs:
  deploy:
    name: Publicar Conte√∫do Est√°tico
    environment:
      # Liga o job ao ambiente de implanta√ß√£o 'github-pages'
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }} 
    runs-on: ubuntu-latest

    steps:
      # Passo 1: Obter o C√≥digo
      - name: Checkout do Reposit√≥rio
        uses: actions/checkout@v4
        
      # Passo 2 (OPCIONAL): Etapa de Build do Projeto (Comente ou remova se o site for apenas HTML/CSS/JS)
      # Se voc√™ usasse Webpack, Grunt ou Jekyll, voc√™ faria o build aqui.
      # - name: Configurar Node.js (Se necess√°rio para build)
      #   uses: actions/setup-node@v4
      #   with:
      #     node-version: '20'
      # - name: Executar o Build
      #   run: npm install && npm run build # Exemplo de build

      # Passo 3: Configurar o Pages e Preparar a Implanta√ß√£o
      - name: Configurar GitHub Pages
        uses: actions/configure-pages@v4
        
      # Passo 4: Empacotar os Arquivos para Implanta√ß√£o (Cria o Artefato)
      - name: Empacotar e Fazer Upload do Site
        uses: actions/upload-pages-artifact@v3
        with:
          # O caminho para a pasta que cont√©m o seu index.html e outros assets.
          # Assumimos que est√° na raiz do reposit√≥rio (./)
          path: './' 

      # Passo 5: Implantar o Site (Publicar)
      - name: Implantar no GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
